<div class="hero-section bg-dark text-white py-5 border-bottom border-secondary">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h1 class="display-4 fw-bold mb-4 text-warning">Welcome to Shop Anh Trí</h1>
        <p class="lead mb-4 text-light">Discover our collection of high-quality products at competitive prices. From electronics to fashion, we have everything you need.</p>
        <a routerLink="/products" class="btn btn-warning btn-lg fw-bold">
          <i class="fas fa-shopping-bag me-2"></i>Shop Now
        </a>
      </div>
      <div class="col-lg-6 text-center">
        <i class="fas fa-store fa-8x text-warning opacity-75"></i>
      </div>
    </div>
  </div>
</div>

<div class="container mt-5">
  <div class="row">
    <div class="col-md-4 mb-4">
      <div class="card h-100 border-0 shadow-lg bg-dark text-white">
        <div class="card-body text-center p-4">
          <div class="feature-icon mb-3">
            <i class="fas fa-shipping-fast fa-3x text-warning"></i>
          </div>
          <h5 class="card-title text-warning">Fast Delivery</h5>
          <p class="card-text text-light">Free delivery within the city and nationwide shipping with fast delivery times.</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-4">
      <div class="card h-100 border-0 shadow-lg bg-dark text-white">
        <div class="card-body text-center p-4">
          <div class="feature-icon mb-3">
            <i class="fas fa-shield-alt fa-3x text-success"></i>
          </div>
          <h5 class="card-title text-success">Quality Guaranteed</h5>
          <p class="card-text text-light">All products are thoroughly quality checked before being sold.</p>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-4">
      <div class="card h-100 border-0 shadow-lg bg-dark text-white">
        <div class="card-body text-center p-4">
          <div class="feature-icon mb-3">
            <i class="fas fa-headset fa-3x text-info"></i>
          </div>
          <h5 class="card-title text-info">24/7 Support</h5>
          <p class="card-text text-light">Professional customer support team ready to serve you anytime.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="bg-dark py-5 mt-5 border-top border-secondary">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <h2 class="mb-4 text-warning">Why Choose Shop Anh Trí?</h2>
        <p class="lead mb-5 text-light">We are committed to providing the best shopping experience with:</p>
        
        <div class="row">
          <div class="col-md-6 mb-4">
            <div class="d-flex align-items-start feature-item">
              <i class="fas fa-check-circle text-success fa-2x me-3 mt-1"></i>
              <div class="text-start">
                <h6 class="text-warning">Competitive Prices</h6>
                <p class="text-light">Best market prices with attractive offers</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-4">
            <div class="d-flex align-items-start feature-item">
              <i class="fas fa-check-circle text-success fa-2x me-3 mt-1"></i>
              <div class="text-start">
                <h6 class="text-warning">Wide Product Range</h6>
                <p class="text-light">Thousands of products from reputable brands</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-4">
            <div class="d-flex align-items-start feature-item">
              <i class="fas fa-check-circle text-success fa-2x me-3 mt-1"></i>
              <div class="text-start">
                <h6 class="text-warning">Official Warranty</h6>
                <p class="text-light">Flexible warranty and return policies</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-4">
            <div class="d-flex align-items-start feature-item">
              <i class="fas fa-check-circle text-success fa-2x me-3 mt-1"></i>
              <div class="text-start">
                <h6 class="text-warning">Secure Payment</h6>
                <p class="text-light">Multiple secure payment methods</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <!-- Featured Products -->
  <div class="row mb-5">
    <div class="col-12">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-warning">
          <i class="bi bi-star-fill me-2"></i>Featured Products
        </h2>
        <button (click)="viewAllProducts()" class="btn btn-outline-warning">
          View All <i class="bi bi-arrow-right ms-1"></i>
        </button>
      </div>
    </div>
    
    <!-- Loading State -->
    <div *ngIf="loading" class="col-12 text-center py-5">
      <div class="spinner-border text-warning" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-3 text-light">Loading featured products...</p>
    </div>
    
    <!-- Featured Products Grid -->
    <ng-container *ngIf="!loading">
      <div class="col-lg-3 col-md-6 mb-4" *ngFor="let product of featuredProducts">
        <div class="card h-100 product-card shadow-sm bg-dark border-secondary">
          <div class="position-relative">
            <img [src]="product.imageUrl || 'assets/placeholder-product.jpg'" 
                 class="card-img-top" 
                 [alt]="product.name" 
                 style="height: 200px; object-fit: cover;" 
                 (error)="onImageError($event)" 
                 (click)="viewProduct(product)"
                 loading="lazy"
                 class="cursor-pointer">
            <div class="position-absolute top-0 end-0 m-2">
              <span class="badge bg-success" *ngIf="product.stockQuantity! > 0">In Stock</span>
              <span class="badge bg-danger" *ngIf="product.stockQuantity! === 0">Out of Stock</span>
            </div>
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-white cursor-pointer" (click)="viewProduct(product)">{{ product.name }}</h5>
            <p class="card-text text-light text-truncate-2">{{ product.description }}</p>
            <div class="mt-auto">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <span class="h5 text-warning mb-0">${{ product.price }}</span>
                <div class="text-warning">
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star"></i>
                </div>
              </div>
              <button class="btn btn-warning btn-custom w-100"
                      [disabled]="isAddingToCart(product.id!) || product.stockQuantity! === 0"
                      (click)="addToCart(product)"
                      [class.btn-success]="isInCart(product.id!)">
                <span *ngIf="!isAddingToCart(product.id!) && !isInCart(product.id!)">
                  <i class="bi bi-cart-plus me-2"></i>Add to Cart
                </span>
                <span *ngIf="!isAddingToCart(product.id!) && isInCart(product.id!)">
                  <i class="bi bi-check me-2"></i>In Cart ({{ getCartQuantity(product.id!) }})
                </span>
                <span *ngIf="isAddingToCart(product.id!)">
                  <i class="bi bi-hourglass-split me-2"></i>Adding...
                </span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- Newsletter Section -->
  <div class="row mb-5">
    <div class="col-12">
      <div class="card bg-dark border-secondary">
        <div class="card-body p-5 text-center">
          <h3 class="text-warning">Stay Updated</h3>
          <p class="text-light mb-4">Subscribe to our newsletter for the latest products and exclusive offers!</p>
          <div class="row justify-content-center">
            <div class="col-md-6">
              <div class="input-group">
                <input type="email" class="form-control bg-dark text-light border-secondary" placeholder="Enter your email address">
                <button class="btn btn-warning" type="button">
                  <i class="bi bi-envelope me-2"></i>Subscribe
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Categories Section -->
  <div class="row mb-5">
    <div class="col-12">
      <h2 class="text-center mb-5 text-warning">Shop by Category</h2>
    </div>
    <div class="col-md-4 mb-4" *ngFor="let category of categories; let i = index">
      <div class="category-card card text-center border-0 shadow-lg cursor-pointer"
           [ngClass]="'category-' + category.name.toLowerCase()"
           (click)="navigateToCategory(category)">
        <div class="card-body d-flex flex-column align-items-center justify-content-center p-4">
          <div class="category-icon mb-3 d-flex align-items-center justify-content-center">
            <ng-container [ngSwitch]="category.name">
              <i *ngSwitchCase="'Electronics'" class="fas fa-laptop-code fa-3x gradient-icon-electronics"></i>
              <i *ngSwitchCase="'Clothing'" class="fas fa-tshirt fa-3x gradient-icon-clothing"></i>
              <i *ngSwitchCase="'Books'" class="fas fa-book-open fa-3x gradient-icon-books"></i>
              <i *ngSwitchDefault class="fas fa-tags fa-3x text-warning"></i>
            </ng-container>
          </div>
          <h5 class="card-title mt-2 mb-1 fw-bold text-white">{{ category.name }}</h5>
          <span class="badge rounded-pill px-3 py-2 category-badge">{{ category.count }} products</span>
        </div>
      </div>
    </div>
  </div>
</div>
